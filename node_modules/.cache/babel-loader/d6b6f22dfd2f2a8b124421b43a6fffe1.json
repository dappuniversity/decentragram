{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\30698\\\\DecentraBook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\30698\\\\DecentraBook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar PeerId = require('peer-id');\n\nvar _require = require('./utils'),\n    ensureMultiaddr = _require.ensureMultiaddr;\n\nvar MultiaddrSet = require('./multiaddr-set');\n\nvar assert = require('assert'); // Peer represents a peer on the IPFS network\n\n\nvar PeerInfo =\n/*#__PURE__*/\nfunction () {\n  function PeerInfo(peerId) {\n    _classCallCheck(this, PeerInfo);\n\n    assert(peerId, 'Missing peerId. Use Peer.create(cb) to create one');\n    this.id = peerId;\n    this.multiaddrs = new MultiaddrSet();\n    this.protocols = new Set();\n    this._connectedMultiaddr = undefined;\n  } // only stores the current multiaddr being used\n\n\n  _createClass(PeerInfo, [{\n    key: \"connect\",\n    value: function connect(ma) {\n      ma = ensureMultiaddr(ma);\n\n      if (!this.multiaddrs.has(ma) && ma.toString() !== \"/ipfs/\".concat(this.id.toB58String())) {\n        throw new Error('can\\'t be connected to missing multiaddr from set');\n      }\n\n      this._connectedMultiaddr = ma;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this._connectedMultiaddr = undefined;\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this._connectedMultiaddr;\n    }\n  }]);\n\n  return PeerInfo;\n}();\n\nPeerInfo.create = function (peerId, callback) {\n  if (typeof peerId === 'function') {\n    callback = peerId;\n    peerId = null;\n    PeerId.create(function (err, id) {\n      if (err) {\n        return callback(err);\n      }\n\n      callback(null, new PeerInfo(id));\n    });\n    return;\n  } // Already a PeerId instance\n\n\n  if (typeof peerId.toJSON === 'function') {\n    callback(null, new PeerInfo(peerId));\n  } else {\n    PeerId.createFromJSON(peerId, function (err, id) {\n      return callback(err, new PeerInfo(id));\n    });\n  }\n};\n\nPeerInfo.isPeerInfo = function (peerInfo) {\n  return Boolean(typeof peerInfo === 'object' && peerInfo.id && peerInfo.multiaddrs);\n};\n\nmodule.exports = PeerInfo;","map":null,"metadata":{},"sourceType":"script"}