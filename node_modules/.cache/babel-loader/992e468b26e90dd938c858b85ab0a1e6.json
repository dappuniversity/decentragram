{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@babel/runtime/helpers/classCallCheck'), require('@babel/runtime/helpers/createClass'), require('lodash/isObject'), require('web3-providers'), require('web3-core-method'), require('web3-utils')) : typeof define === 'function' && define.amd ? define(['exports', '@babel/runtime/helpers/classCallCheck', '@babel/runtime/helpers/createClass', 'lodash/isObject', 'web3-providers', 'web3-core-method', 'web3-utils'], factory) : (global = global || self, factory(global.Web3Core = {}, global._classCallCheck, global._createClass, global.isObject, global.web3Providers, global.web3CoreMethod, global.web3Utils));\n})(this, function (exports, _classCallCheck, _createClass, isObject, web3Providers, web3CoreMethod, web3Utils) {\n  'use strict';\n\n  _classCallCheck = _classCallCheck && _classCallCheck.hasOwnProperty('default') ? _classCallCheck['default'] : _classCallCheck;\n  _createClass = _createClass && _createClass.hasOwnProperty('default') ? _createClass['default'] : _createClass;\n  isObject = isObject && isObject.hasOwnProperty('default') ? isObject['default'] : isObject;\n\n  var AbstractWeb3Module = function () {\n    function AbstractWeb3Module(provider) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var methodFactory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var nodeNet = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      _classCallCheck(this, AbstractWeb3Module);\n\n      this.providerResolver = new web3Providers.ProviderResolver();\n      this.givenProvider = web3Providers.ProviderDetector.detect();\n      this._currentProvider = this.providerResolver.resolve(provider, nodeNet);\n      this._defaultAccount = options.defaultAccount ? web3Utils.toChecksumAddress(options.defaultAccount) : undefined;\n      this._defaultBlock = options.defaultBlock || 'latest';\n      this._transactionBlockTimeout = options.transactionBlockTimeout || 50;\n      this._transactionConfirmationBlocks = options.transactionConfirmationBlocks || 24;\n      this._transactionPollingTimeout = options.transactionPollingTimeout || 750;\n      this._defaultGasPrice = options.defaultGasPrice;\n      this._defaultGas = options.defaultGas;\n\n      this.BatchRequest = function () {\n        return new web3Providers.BatchRequest(_this);\n      };\n\n      if (methodFactory) {\n        return new web3CoreMethod.MethodProxy(this, methodFactory);\n      }\n    }\n\n    _createClass(AbstractWeb3Module, [{\n      key: \"setProvider\",\n      value: function setProvider(provider, net) {\n        if (!this.isSameProvider(provider)) {\n          var resolvedProvider = this.providerResolver.resolve(provider, net);\n          this.clearSubscriptions();\n          this._currentProvider = resolvedProvider;\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: \"isSameProvider\",\n      value: function isSameProvider(provider) {\n        if (isObject(provider)) {\n          if (this.currentProvider && this.currentProvider.constructor.name === provider.constructor.name) {\n            return this.currentProvider.host === provider.host;\n          }\n\n          return false;\n        }\n\n        return this.currentProvider.host === provider;\n      }\n    }, {\n      key: \"clearSubscriptions\",\n      value: function clearSubscriptions(unsubscribeMethod) {\n        if (typeof this.currentProvider.clearSubscriptions !== 'undefined' && this.currentProvider.subscriptions.length > 0) {\n          return this.currentProvider.clearSubscriptions(unsubscribeMethod);\n        }\n\n        return Promise.resolve(true);\n      }\n    }, {\n      key: \"defaultBlock\",\n      get: function get() {\n        return this._defaultBlock;\n      },\n      set: function set(value) {\n        this._defaultBlock = value;\n      }\n    }, {\n      key: \"transactionBlockTimeout\",\n      get: function get() {\n        return this._transactionBlockTimeout;\n      },\n      set: function set(value) {\n        this._transactionBlockTimeout = value;\n      }\n    }, {\n      key: \"transactionConfirmationBlocks\",\n      get: function get() {\n        return this._transactionConfirmationBlocks;\n      },\n      set: function set(value) {\n        this._transactionConfirmationBlocks = value;\n      }\n    }, {\n      key: \"transactionPollingTimeout\",\n      get: function get() {\n        return this._transactionPollingTimeout;\n      },\n      set: function set(value) {\n        this._transactionPollingTimeout = value;\n      }\n    }, {\n      key: \"defaultGasPrice\",\n      get: function get() {\n        return this._defaultGasPrice;\n      },\n      set: function set(value) {\n        this._defaultGasPrice = value;\n      }\n    }, {\n      key: \"defaultGas\",\n      get: function get() {\n        return this._defaultGas;\n      },\n      set: function set(value) {\n        this._defaultGas = value;\n      }\n    }, {\n      key: \"defaultAccount\",\n      get: function get() {\n        return this._defaultAccount;\n      },\n      set: function set(value) {\n        this._defaultAccount = web3Utils.toChecksumAddress(value);\n      }\n    }, {\n      key: \"currentProvider\",\n      get: function get() {\n        return this._currentProvider;\n      },\n      set: function set(value) {\n        throw new Error('The property currentProvider is read-only!');\n      }\n    }], [{\n      key: \"providers\",\n      get: function get() {\n        return {\n          HttpProvider: web3Providers.HttpProvider,\n          WebsocketProvider: web3Providers.WebsocketProvider,\n          IpcProvider: web3Providers.IpcProvider\n        };\n      }\n    }]);\n\n    return AbstractWeb3Module;\n  }();\n\n  exports.AbstractWeb3Module = AbstractWeb3Module;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":null,"metadata":{},"sourceType":"script"}